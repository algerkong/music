(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-86bbc0b4"],{8063:function(t,e,n){"use strict";var o=n("8c53"),a=n.n(o);a.a},"8c53":function(t,e,n){},c80e:function(t,e,n){},d6e0:function(t,e,n){"use strict";var o=n("c80e"),a=n.n(o);a.a},d954:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"top-bar"},[n("van-nav-bar",{staticClass:"music-bar",attrs:{"left-arrow":""},on:{"click-right":t.onClickRight},scopedSlots:t._u([{key:"left",fn:function(){return[n("van-icon",{attrs:{name:"arrow-down",color:"#FFF",size:"25px"},on:{click:t.onClickLeft}})]},proxy:!0},{key:"title",fn:function(){return[n("div",{staticClass:"title"},[t._v(" "+t._s(t.title)+" ")])]},proxy:!0},{key:"right",fn:function(){return[n("van-icon",{attrs:{name:"share",color:"#FFF",size:"25px"},on:{click:t.onClickRight}})]},proxy:!0}])}),n("van-share-sheet",{attrs:{title:"立即分享给好友",options:t.options},on:{select:t.onSelect},model:{value:t.showShare,callback:function(e){t.showShare=e},expression:"showShare"}})],1)},a=[],s={name:"topBar",props:{title:{type:String,default:function(){return""}}},data:function(){return{show:!0,showShare:!1,options:[{name:"微信",icon:"wechat"},{name:"微博",icon:"weibo"},{name:"复制链接",icon:"link"},{name:"分享海报",icon:"poster"},{name:"二维码",icon:"qrcode"}]}},methods:{onClickLeft:function(){this.$router.back()},onClickRight:function(){this.showShare=!0},onSelect:function(t){this.showShare=!1}}},i=s,c=(n("8063"),n("2877")),r=Object(c["a"])(i,o,a,!1,null,"05d5e938",null);e["a"]=r.exports},dbd0:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("van-popup",{staticClass:"mv-page",style:{height:"100%"},attrs:{duration:"0.2",position:"bottom"},model:{value:t.$store.state.isMv,callback:function(e){t.$set(t.$store.state,"isMv",e)},expression:"$store.state.isMv"}},[n("top-bar",{attrs:{title:t.mvName}}),n("div",{staticClass:"video-page"},[n("video",{staticClass:"mv-video",attrs:{controls:"",autoplay:"",src:t.mvSrc,poster:t.mvBackground}})]),n("div",{staticClass:"content"}),n("van-form",[n("van-collapse",{model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[n("van-collapse-item",{attrs:{name:"1"},scopedSlots:t._u([{key:"title",fn:function(){return[n("div",{staticClass:"mv-title"},[n("p",[n("span",{staticClass:"name"},[t._v(t._s(t.mvName))]),n("span",{on:{click:t.showSinger}},[t._v(" - "+t._s(t.author))])])]),n("div",{staticClass:"mv-count"},[n("span",[t._v(t._s(t.playCount)+"次观看")])])]},proxy:!0}])},[n("div",{staticClass:"mv-describe"},[n("p",[t._v(t._s(t.mvTime)+" 发布")]),n("p",[t._v(t._s(t.text))]),n("p",[t._v(t._s(t.desc))])])])],1),n("van-grid",[n("van-grid-item",{attrs:{icon:"good-job-o",text:t.allCommentCount.toString()}}),n("van-grid-item",{attrs:{icon:"star-o",text:t.count.subCount.toString()}}),n("van-grid-item",{attrs:{icon:"chat-o",text:t.count.commentCount.toString()}}),n("van-grid-item",{attrs:{icon:"share",text:t.count.shareCount.toString()}})],1),n("div",[n("van-sticky",{attrs:{"offset-top":"232px"}},[n("div",{staticClass:"title"},[n("p",[t._v("评论区")])])]),n("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.comments,(function(e,o){return n("van-cell",{key:o*(t.page+1)},[n("comment-item",{attrs:{comment:e}})],1)})),1)],1)],1)],1)],1)},a=[],s=(n("b0c0"),n("c6a0")),i=n("d954"),c=n("74e9"),r={name:"mv",components:{CommentItem:c["a"],TopBar:i["a"]},data:function(){return{activeNames:["0"],loading:!1,finished:!1,page:0,comments:[],allCommentCount:"",mvSrc:"",mvBackground:"",mvName:"",author:"",text:"",playCount:"",arID:"",mvTime:"",desc:"",count:{subCount:"",commentCount:"",shareCount:""}}},created:function(){var t=this,e=this.$store.state;e.musicSrc.isPlay=!1,Object(s["b"])(e.mvID).then((function(n){console.log(e.mvID),console.log(n),t.mvSrc=n.data.url})),Object(s["d"])(e.mvID).then((function(e){console.log(e),t.mvBackground=e.data.cover,t.mvName=e.data.name,t.author=e.data.artistName,t.playCount=e.data.playCount,t.text=e.data.briefDesc,t.arID=e.data.artistId,t.mvTime=e.data.publishTime,t.desc=e.data.desc,t.count={subCount:e.data.subCount,commentCount:e.data.commentCount,shareCount:e.data.shareCount}})),setTimeout((function(){console.log(e.isMv)}),2e3)},methods:{showSinger:function(){this.$store.state.arID=this.arID,this.$store.state.isSinger=!0,this.$router.push("/singer")},onLoad:function(){var t=this,e=this.$store.state;Object(s["c"])(e.mvID,30,this.page).then((function(e){console.log(e),t.page||t.comments.push.apply(t.comments,e.hotComments),t.comments.push.apply(t.comments,e.comments),console.log(t.comments),t.allCommentCount=e.total,t.loading=!1,t.comments.length>=t.allCommentCount&&(t.finished=!0),t.page++}))}}},l=r,m=(n("d6e0"),n("2877")),u=Object(m["a"])(l,o,a,!1,null,"5c463fb6",null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-86bbc0b4.5c452acf.js.map